{% extends "layout/base.html" %}

{% block title_content %}
Results
{% endblock title_content %}

{% block main_content %}
{% load static %}
<div class="main-content-inner">
    <div class="card-area">
        {% if messages %}
        <div class="span12">
            {% for message in messages %}
            <div class="alert alert-success">
                {{ message|safe }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if camera_grading %}
        <div class="row my-4">
            <div class="col-md-6 col-lg-6 mx-auto">
                <div class="col-md-12 col-lg-12">
                    <h4 class="text-center py-2">Video Live Stream</h4>
                </div>
                <img height="auto" width="700" src="{% url 'detectWithCamera' %}">
            </div>
        </div>
        <div><button id="showMainResults" class="btn btn-warning btn-sm text-uppercase mx-auto">Start
                Grading</button></div>
        {% endif %}

        <div class="mainResults" style="display: none">
            <div class="jumbotron">
                <h4 class="text-center">Fruit: Orange</h4>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-md-12 col-lg-12">
                            <div class="user-profile p-3 mb-3">
                                <h4 class="text-center user-name">Original Images</h4>
                            </div>
                        </div>

                        <div class="col-md-6 col-lg-6">
                            <div class="card card-bordered">
                                <div class="card-header text-center">
                                    <h4>Left Side</h4>
                                </div>
                                <img class="img-fluid" height="250" width="250" src="{{ uploaded_file_url }}">
                                <!-- <img class="img-fluid" height="200" width="200" src="{% static 'assets/images/tomatoes/tomat1.jpg' %}" alt="image-left"> -->
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-6">
                            <div class="card card-bordered">
                                <div class="card-header text-center">
                                    <h4>Right Side</h4>
                                </div>
                                <img class="img-fluid" height="250" width="250" src="{{ uploaded_file_url }}">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-lg-12">
                            <div class="user-profile p-3 mb-3">
                                <h4 class="text-center user-name">Edge Images</h4>
                            </div>
                        </div>

                        <div class="col-md-6 col-lg-6">
                            <div class="card card-bordered">
                                <div class="card-header text-center">
                                    <h4>Left Side</h4>
                                </div>
                                <img class="img-fluid" height="250" width="250" src="{{ colorStats.edge_file_url }}">
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-6">
                            <div class="card card-bordered">
                                <div class="card-header text-center">
                                    <h4>Right Side</h4>
                                </div>
                                <img class="img-fluid" height="250" width="250" src="{{ colorStats.edge_file_url }}">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-lg-12">
                            <div class="user-profile p-3 mb-3">
                                <h4 class="text-center user-name">Red Mask Images</h4>
                            </div>
                        </div>

                        <div class="col-md-6 col-lg-6">
                            <div class="card card-bordered">
                                <div class="card-header text-center">
                                    <h4>Left Side</h4>
                                </div>
                                <img class="img-fluid" height="250" width="250" src="{{ colorStats.mask_file_url }}">
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-6">
                            <div class="card card-bordered">
                                <div class="card-header text-center">
                                    <h4>Right Side</h4>
                                </div>
                                <img class="img-fluid" height="250" width="250" src="{{ colorStats.mask_file_url }}">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-lg-12">
                            <div class="user-profile p-3 mb-3">
                                <h4 class="text-center user-name">Segmented Images</h4>
                            </div>
                        </div>

                        <div class="col-md-6 col-lg-6">
                            <div class="card card-bordered">
                                <div class="card-header text-center">
                                    <h4>Left Side</h4>
                                </div>
                                <img class="img-fluid" height="250" width="250"
                                    src="{{ colorStats.uploaded_file_url }}">
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-6">
                            <div class="card card-bordered">
                                <div class="card-header text-center">
                                    <h4>Right Side</h4>
                                </div>
                                <img class="img-fluid" height="250" width="250"
                                    src="{{ colorStats.uploaded_file_url }}">
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-6 px-5 py-2">
                    <h4 class="display-1">PASS</h4>
                    <h4>Ripe Percentage: {{ ripe_perc }}%
                    </h4>
                    <h4>Ripe Rate: {{ ripe_rate }}
                    </h4>
                    <h4>Defect: 3%
                    </h4>
                    <h4>Size: Pass
                    </h4>
                    <h5>Shape: Fail
                    </h5>
                    <div class="datatables datatable-dark mt-4">
                        <table class="table table-hover text-center">
                            <thead class="text-capitalize">
                                <tr>
                                    <th> </th>
                                    <th>Percentage</th>
                                    <th>Status</th>
                                    <th>Grade</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><b>Ripeness</b></td>
                                    <td>{{ colorStats.ripe_perc }}%</td>
                                    <td>{{ colorStats.ripe_rate }}</td>
                                    <td>{{ colorStats.color_grade }}</td>
                                </tr>
                                <tr>
                                    <td><b>Defect</b></td>
                                    <td>{{ colorStats.percentage_of_defects }}%</td>
                                    <td>{{ colorStats.orange_grade }}</td>
                                    <td>C</td>
                                </tr>
                                <tr>
                                    <td><b>Size</b></td>
                                    <td></td>
                                    <td>{{ sizeStats.size }}</td>
                                    <td>{{ sizeStats.size_grade }}</td>
                                </tr>
                                <tr>
                                    <td><b>Shape</b></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
</div>
{% endblock %}
{% block js_content %}
<script src="{% static  'assets/js/vendor/jquery-2.2.4.min.js' %}"></script>
{% endblock %}